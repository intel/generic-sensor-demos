define(["../../../@webcomponents/shadycss/apply-shim.min.js","../lit-element.js","./test-helpers.js"],function(_applyShimMin,_litElement,_testHelpers){"use strict";function _templateObject14_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          div {\n            border: ",";\n          }\n        </style>\n        <div>Testing...</div>"]);_templateObject14_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject13_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          :host {\n            --bag: {\n              border: 10px solid black;\n              margin-top: 2px;\n            }\n          }\n        </style>\n        <x-applied></x-applied>"]);_templateObject13_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject12_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          :host {\n            display: block;\n            width: 100px;\n            height: 100px;\n            border: 2px solid black;\n            margin-top: 10px;\n            @apply --bag;\n          }\n        </style>Hi"]);_templateObject12_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject11_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          x-inner2 {\n            --bag: {\n              border: 10px solid red;\n            }\n          }\n        </style>\n        <x-inner2></x-inner2>"]);_templateObject11_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject10_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          div {\n            @apply --bag;\n          }\n        </style>\n        <div>Testing...</div>"]);_templateObject10_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject9_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          x-inner1 {\n            --border: 8px solid red;\n          }\n        </style>"]);_templateObject9_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject8_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          x-inner1 {\n            --border: 2px solid red;\n          }\n        </style>\n        <x-inner1></x-inner1>"]);_templateObject8_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject7_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          div {\n            border: var(--border);\n          }\n        </style>\n        <div>Testing...</div>"]);_templateObject7_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject6_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          x-inner {\n            --border: 8px solid red;\n          }\n        </style>\n        <x-inner></x-inner>"]);_templateObject6_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject5_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          div {\n            border: var(--border);\n          }\n        </style>\n        <div>Testing...</div>"]);_templateObject5_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject4_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          :host {\n            --border: 8px solid red;\n          }\n          div {\n            border: var(--border);\n          }\n        </style>\n        <div>Testing...</div>"]);_templateObject4_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject3_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          div {\n            border: 2px solid blue;\n          }\n        </style>\n        ","\n        <div>Testing...</div>"]);_templateObject3_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject2_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["<style>\n      div {\n        border: 4px solid blue;\n      }\n    </style>"]);_templateObject2_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject_41367950bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["\n        <style>\n          div {\n            border: 2px solid blue;\n          }\n        </style>\n        <div>Testing...</div>"]);_templateObject_41367950bcbd11e8bdb6cf102d438942=function(){return data};return data}var assert=chai.assert;suite("Styling",function(){var container;setup(function(){container=document.createElement("div");document.body.appendChild(container)});teardown(function(){if(container&&container.parentNode){container.parentNode.removeChild(container)}});test("content shadowRoot is styled",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee(){var name,el,div;return regeneratorRuntime.wrap(function(_context){while(1){switch(_context.prev=_context.next){case 0:name=(0,_testHelpers.generateElementName)();customElements.define(name,function(_LitElement){babelHelpers.inherits(_class,_LitElement);function _class(){babelHelpers.classCallCheck(this,_class);return babelHelpers.possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}babelHelpers.createClass(_class,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject_41367950bcbd11e8bdb6cf102d438942())}}]);return _class}(_litElement.LitElement));el=document.createElement(name);container.appendChild(el);_context.next=6;return el.updateComplete;case 6:div=el.shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"2px");case 8:case"end":return _context.stop();}}},_callee,this)})));test("shared styling rendered into shadowRoot is styled",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var style,name,el,div;return regeneratorRuntime.wrap(function(_context2){while(1){switch(_context2.prev=_context2.next){case 0:style=(0,_litElement.html)(_templateObject2_41367950bcbd11e8bdb6cf102d438942());name=(0,_testHelpers.generateElementName)();customElements.define(name,function(_LitElement2){babelHelpers.inherits(_class2,_LitElement2);function _class2(){babelHelpers.classCallCheck(this,_class2);return babelHelpers.possibleConstructorReturn(this,(_class2.__proto__||Object.getPrototypeOf(_class2)).apply(this,arguments))}babelHelpers.createClass(_class2,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject3_41367950bcbd11e8bdb6cf102d438942(),style)}}]);return _class2}(_litElement.LitElement));el=document.createElement(name);container.appendChild(el);_context2.next=7;return el.updateComplete;case 7:div=el.shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"4px");case 9:case"end":return _context2.stop();}}},_callee2,this)})));test("custom properties render",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var name,el,div;return regeneratorRuntime.wrap(function(_context3){while(1){switch(_context3.prev=_context3.next){case 0:name=(0,_testHelpers.generateElementName)();customElements.define(name,function(_LitElement3){babelHelpers.inherits(_class3,_LitElement3);function _class3(){babelHelpers.classCallCheck(this,_class3);return babelHelpers.possibleConstructorReturn(this,(_class3.__proto__||Object.getPrototypeOf(_class3)).apply(this,arguments))}babelHelpers.createClass(_class3,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject4_41367950bcbd11e8bdb6cf102d438942())}}]);return _class3}(_litElement.LitElement));el=document.createElement(name);container.appendChild(el);_context3.next=6;return el.updateComplete;case 6:div=el.shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"8px");case 8:case"end":return _context3.stop();}}},_callee3,this)})));test("custom properties flow to nested elements",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var name,E,el,div;return regeneratorRuntime.wrap(function(_context4){while(1){switch(_context4.prev=_context4.next){case 0:customElements.define("x-inner",function(_LitElement4){babelHelpers.inherits(_class4,_LitElement4);function _class4(){babelHelpers.classCallCheck(this,_class4);return babelHelpers.possibleConstructorReturn(this,(_class4.__proto__||Object.getPrototypeOf(_class4)).apply(this,arguments))}babelHelpers.createClass(_class4,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject5_41367950bcbd11e8bdb6cf102d438942())}}]);return _class4}(_litElement.LitElement));name=(0,_testHelpers.generateElementName)();E=function(_LitElement5){babelHelpers.inherits(E,_LitElement5);function E(){var _this;babelHelpers.classCallCheck(this,E);_this=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this.inner=null;return _this}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject6_41367950bcbd11e8bdb6cf102d438942())}},{key:"firstUpdated",value:function firstUpdated(){this.inner=this.shadowRoot.querySelector("x-inner")}}]);return E}(_litElement.LitElement);customElements.define(name,E);el=document.createElement(name);container.appendChild(el);_context4.next=8;return el.updateComplete;case 8:_context4.t0=_context4.sent;if(!_context4.t0){_context4.next=12;break}_context4.next=12;return el.inner.updateComplete;case 12:_context4.next=14;return(0,_testHelpers.nextFrame)();case 14:div=el.inner.shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"8px");case 16:case"end":return _context4.stop();}}},_callee4,this)})));test("elements with custom properties can move between elements",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var name1,name2,el,el2,div,inner;return regeneratorRuntime.wrap(function(_context5){while(1){switch(_context5.prev=_context5.next){case 0:customElements.define("x-inner1",function(_LitElement6){babelHelpers.inherits(_class5,_LitElement6);function _class5(){babelHelpers.classCallCheck(this,_class5);return babelHelpers.possibleConstructorReturn(this,(_class5.__proto__||Object.getPrototypeOf(_class5)).apply(this,arguments))}babelHelpers.createClass(_class5,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject7_41367950bcbd11e8bdb6cf102d438942())}}]);return _class5}(_litElement.LitElement));name1=(0,_testHelpers.generateElementName)();customElements.define(name1,function(_LitElement7){babelHelpers.inherits(_class6,_LitElement7);function _class6(){var _this2;babelHelpers.classCallCheck(this,_class6);_this2=babelHelpers.possibleConstructorReturn(this,(_class6.__proto__||Object.getPrototypeOf(_class6)).apply(this,arguments));_this2.inner=null;return _this2}babelHelpers.createClass(_class6,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject8_41367950bcbd11e8bdb6cf102d438942())}},{key:"firstUpdated",value:function firstUpdated(){this.inner=this.shadowRoot.querySelector("x-inner1")}}]);return _class6}(_litElement.LitElement));name2=(0,_testHelpers.generateElementName)();customElements.define(name2,function(_LitElement8){babelHelpers.inherits(_class7,_LitElement8);function _class7(){babelHelpers.classCallCheck(this,_class7);return babelHelpers.possibleConstructorReturn(this,(_class7.__proto__||Object.getPrototypeOf(_class7)).apply(this,arguments))}babelHelpers.createClass(_class7,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject9_41367950bcbd11e8bdb6cf102d438942())}}]);return _class7}(_litElement.LitElement));el=document.createElement(name1);el2=document.createElement(name2);container.appendChild(el);container.appendChild(el2);_context5.next=11;return el.updateComplete;case 11:_context5.next=13;return(0,_testHelpers.nextFrame)();case 13:inner=el.shadowRoot.querySelector("x-inner1");div=inner.shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"2px");el2.shadowRoot.appendChild(inner);_context5.next=19;return el.updateComplete;case 19:_context5.next=21;return(0,_testHelpers.nextFrame)();case 21:assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"8px");case 22:case"end":return _context5.stop();}}},_callee5,this)})));test("@apply renders in nested elements",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var name,E,el,div;return regeneratorRuntime.wrap(function(_context6){while(1){switch(_context6.prev=_context6.next){case 0:customElements.define("x-inner2",function(_LitElement9){babelHelpers.inherits(_class8,_LitElement9);function _class8(){babelHelpers.classCallCheck(this,_class8);return babelHelpers.possibleConstructorReturn(this,(_class8.__proto__||Object.getPrototypeOf(_class8)).apply(this,arguments))}babelHelpers.createClass(_class8,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject10_41367950bcbd11e8bdb6cf102d438942())}}]);return _class8}(_litElement.LitElement));name=(0,_testHelpers.generateElementName)();E=function(_LitElement10){babelHelpers.inherits(E,_LitElement10);function E(){var _this3;babelHelpers.classCallCheck(this,E);_this3=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this3.inner=null;return _this3}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject11_41367950bcbd11e8bdb6cf102d438942())}},{key:"firstUpdated",value:function firstUpdated(){this.inner=this.shadowRoot.querySelector("x-inner2")}}]);return E}(_litElement.LitElement);customElements.define(name,E);el=document.createElement(name);container.appendChild(el);_context6.next=8;return el.updateComplete;case 8:_context6.t0=_context6.sent;if(!_context6.t0){_context6.next=12;break}_context6.next=12;return el.inner.updateComplete;case 12:_context6.next=14;return(0,_testHelpers.nextFrame)();case 14:div=el.shadowRoot.querySelector("x-inner2").shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"10px");case 16:case"end":return _context6.stop();}}},_callee6,this)})));test("@apply renders in nested elements when sub-element renders separately first",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var I,name,E,firstApplied,el;return regeneratorRuntime.wrap(function(_context7){while(1){switch(_context7.prev=_context7.next){case 0:I=function(_LitElement11){babelHelpers.inherits(I,_LitElement11);function I(){babelHelpers.classCallCheck(this,I);return babelHelpers.possibleConstructorReturn(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}babelHelpers.createClass(I,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject12_41367950bcbd11e8bdb6cf102d438942())}}]);return I}(_litElement.LitElement);customElements.define("x-applied",I);name=(0,_testHelpers.generateElementName)();E=function(_LitElement12){babelHelpers.inherits(E,_LitElement12);function E(){babelHelpers.classCallCheck(this,E);return babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject13_41367950bcbd11e8bdb6cf102d438942())}},{key:"firstUpdated",value:function firstUpdated(){this.applied=this.shadowRoot.querySelector("x-applied")}}]);return E}(_litElement.LitElement);customElements.define(name,E);firstApplied=document.createElement("x-applied");container.appendChild(firstApplied);el=document.createElement(name);container.appendChild(el);_context7.next=11;return firstApplied.updateComplete;case 11:_context7.t0=_context7.sent;if(!_context7.t0){_context7.next=14;break}_context7.t0=el.updateComplete;case 14:_context7.t1=_context7.t0;if(!_context7.t1){_context7.next=18;break}_context7.next=18;return el.applied.updateComplete;case 18:_context7.next=20;return(0,_testHelpers.nextFrame)();case 20:assert.equal((0,_testHelpers.getComputedStyleValue)(firstApplied,"border-top-width").trim(),"2px");assert.equal((0,_testHelpers.getComputedStyleValue)(firstApplied,"margin-top").trim(),"10px");assert.equal((0,_testHelpers.getComputedStyleValue)(el.applied,"border-top-width").trim(),"10px");assert.equal((0,_testHelpers.getComputedStyleValue)(el.applied,"margin-top").trim(),"2px");case 24:case"end":return _context7.stop();}}},_callee7,this)})))});suite("ShadyDOM",function(){var container;setup(function(){if(!window.ShadyDOM){this.skip()}else{container=document.createElement("div");document.body.appendChild(container)}});teardown(function(){if(container&&container.parentNode){container.parentNode.removeChild(container)}});test("properties in styles render with initial value and cannot be changed",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee8(){var border,name,el,div;return regeneratorRuntime.wrap(function(_context8){while(1){switch(_context8.prev=_context8.next){case 0:border="6px solid blue";name=(0,_testHelpers.generateElementName)();customElements.define(name,function(_LitElement13){babelHelpers.inherits(_class9,_LitElement13);function _class9(){babelHelpers.classCallCheck(this,_class9);return babelHelpers.possibleConstructorReturn(this,(_class9.__proto__||Object.getPrototypeOf(_class9)).apply(this,arguments))}babelHelpers.createClass(_class9,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject14_41367950bcbd11e8bdb6cf102d438942(),border)}}]);return _class9}(_litElement.LitElement));el=document.createElement(name);container.appendChild(el);_context8.next=7;return el.updateComplete;case 7:div=el.shadowRoot.querySelector("div");assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"6px");border="4px solid orange";el.requestUpdate();_context8.next=13;return el.updateComplete;case 13:assert.equal((0,_testHelpers.getComputedStyleValue)(div,"border-top-width").trim(),"6px");case 14:case"end":return _context8.stop();}}},_callee8,this)})))})});