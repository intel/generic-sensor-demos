define(["../lit-element.js","./test-helpers.js"],function(_litElement,_testHelpers){"use strict";function _templateObject31_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["test"]);_templateObject31_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject30_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject30_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject29_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject29_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject28_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject28_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject27_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["<x-1224></x-1224>"]);_templateObject27_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject26_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject26_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject25_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject25_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject24_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject24_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject23_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject23_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject22_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["hi"]);_templateObject22_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject21_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject21_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject20_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["<div attr=\"","\" .prop=\"","\" @zug=\"","\"></div>"]);_templateObject20_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject19_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["","",""]);_templateObject19_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject18_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject18_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject17_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject17_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject16_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject16_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject15_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject15_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject14_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject14_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject13_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject13_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject12_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject12_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject11_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject11_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject10_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject10_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject9_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject9_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject8_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject8_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject7_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral([""]);_templateObject7_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject6_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject6_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject5_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject5_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject4_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject4_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject3_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject3_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject2_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject2_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}function _templateObject_42bcf240bcbd11e8bdb6cf102d438942(){var data=babelHelpers.taggedTemplateLiteral(["",""]);_templateObject_42bcf240bcbd11e8bdb6cf102d438942=function(){return data};return data}var assert=chai.assert;suite("LitElement",function(){var container;setup(function(){container=document.createElement("div");document.body.appendChild(container)});teardown(function(){if(container&&container.parentNode){container.parentNode.removeChild(container)}});test("renders initial content into shadowRoot",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee(){var rendered,name,el;return regeneratorRuntime.wrap(function(_context){while(1){switch(_context.prev=_context.next){case 0:rendered="hello world";name=(0,_testHelpers.generateElementName)();customElements.define(name,function(_LitElement){babelHelpers.inherits(_class,_LitElement);function _class(){babelHelpers.classCallCheck(this,_class);return babelHelpers.possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}babelHelpers.createClass(_class,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject_42bcf240bcbd11e8bdb6cf102d438942(),rendered)}}]);return _class}(_litElement.LitElement));el=document.createElement(name);container.appendChild(el);_context.next=7;return new Promise(function(resolve){setTimeout(function(){assert.ok(el.shadowRoot);assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),rendered);resolve()})});case 7:case"end":return _context.stop();}}},_callee,this)})));test("invalidate waits until update/rendering",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var E,el;return regeneratorRuntime.wrap(function(_context2){while(1){switch(_context2.prev=_context2.next){case 0:E=function(_LitElement2){babelHelpers.inherits(E,_LitElement2);function E(){var _this;babelHelpers.classCallCheck(this,E);_this=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this.updated=0;return _this}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject2_42bcf240bcbd11e8bdb6cf102d438942(),++this.updated)}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context2.next=6;return el.invalidate();case 6:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"1");_context2.next=9;return el.invalidate();case 9:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"2");_context2.next=12;return el.invalidate();case 12:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"3");case 13:case"end":return _context2.stop();}}},_callee2,this)})));test("updateComplete waits for invalidate but does not trigger invalidation, async",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var E,el;return regeneratorRuntime.wrap(function(_context3){while(1){switch(_context3.prev=_context3.next){case 0:E=function(_LitElement3){babelHelpers.inherits(E,_LitElement3);function E(){var _this2;babelHelpers.classCallCheck(this,E);_this2=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this2.updated=0;return _this2}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject3_42bcf240bcbd11e8bdb6cf102d438942(),++this.updated)}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context3.next=6;return el.updateComplete;case 6:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"1");_context3.next=9;return el.updateComplete;case 9:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"1");el.invalidate();_context3.next=13;return el.updateComplete;case 13:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"2");_context3.next=16;return el.updateComplete;case 16:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"2");case 17:case"end":return _context3.stop();}}},_callee3,this)})));test("shouldUpdate controls update/rendering",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var E,el;return regeneratorRuntime.wrap(function(_context4){while(1){switch(_context4.prev=_context4.next){case 0:E=function(_LitElement4){babelHelpers.inherits(E,_LitElement4);function E(){var _this3;babelHelpers.classCallCheck(this,E);_this3=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this3.needsUpdate=!0;_this3.updated=0;return _this3}babelHelpers.createClass(E,[{key:"shouldUpdate",value:function shouldUpdate(){return this.needsUpdate}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject4_42bcf240bcbd11e8bdb6cf102d438942(),++this.updated)}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context4.next=6;return el.updateComplete;case 6:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"1");el.needsUpdate=!1;_context4.next=10;return el.invalidate();case 10:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"1");el.needsUpdate=!0;_context4.next=14;return el.invalidate();case 14:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"2");_context4.next=17;return el.invalidate();case 17:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"3");case 18:case"end":return _context4.stop();}}},_callee4,this)})));test("can set render target to light dom",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var rendered,name,el;return regeneratorRuntime.wrap(function(_context5){while(1){switch(_context5.prev=_context5.next){case 0:rendered="hello world";name=(0,_testHelpers.generateElementName)();customElements.define(name,function(_LitElement5){babelHelpers.inherits(_class2,_LitElement5);function _class2(){babelHelpers.classCallCheck(this,_class2);return babelHelpers.possibleConstructorReturn(this,(_class2.__proto__||Object.getPrototypeOf(_class2)).apply(this,arguments))}babelHelpers.createClass(_class2,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject5_42bcf240bcbd11e8bdb6cf102d438942(),rendered)}},{key:"createRenderRoot",value:function createRenderRoot(){return this}}]);return _class2}(_litElement.LitElement));el=document.createElement(name);container.appendChild(el);_context5.next=7;return el.updateComplete;case 7:assert.notOk(el.shadowRoot);assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.innerHTML),rendered);case 9:case"end":return _context5.stop();}}},_callee5,this)})));test("renders when created via constructor",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var rendered,E,el;return regeneratorRuntime.wrap(function(_context6){while(1){switch(_context6.prev=_context6.next){case 0:rendered="hello world";E=function(_LitElement6){babelHelpers.inherits(E,_LitElement6);function E(){babelHelpers.classCallCheck(this,E);return babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject6_42bcf240bcbd11e8bdb6cf102d438942(),rendered)}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context6.next=7;return el.updateComplete;case 7:assert.ok(el.shadowRoot);assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),rendered);case 9:case"end":return _context6.stop();}}},_callee6,this)})));test("property options",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var shouldInvalidate,fromAttribute,toAttribute,E,el;return regeneratorRuntime.wrap(function(_context7){while(1){switch(_context7.prev=_context7.next){case 0:shouldInvalidate=function(value,old){return old===void 0||value>old};fromAttribute=function(value){return parseInt(value)};toAttribute=function(value){return"".concat(value,"-attr")};E=function(_LitElement7){babelHelpers.inherits(E,_LitElement7);function E(){var _this4;babelHelpers.classCallCheck(this,E);_this4=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this4.noAttr="noAttr";_this4.atTr="attr";_this4.customAttr="customAttr";_this4.shouldInvalidate=10;_this4.fromAttribute=1;_this4.toAttribute=1;_this4.all=10;_this4.updated=0;return _this4}babelHelpers.createClass(E,[{key:"update",value:function update(changed){this.updated++;babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,changed)}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject7_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{noAttr:{attribute:!1},atTr:{attribute:!0},customAttr:{attribute:"custom",reflect:!0},shouldInvalidate:{shouldInvalidate:shouldInvalidate},fromAttribute:{type:fromAttribute},toAttribute:{reflect:!0,type:{toAttribute:toAttribute}},all:{attribute:"all-attr",shouldInvalidate:shouldInvalidate,type:{fromAttribute:fromAttribute,toAttribute:toAttribute},reflect:!0}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context7.next=9;return el.updateComplete;case 9:assert.equal(el.updated,1);assert.equal(el.noAttr,"noAttr");assert.equal(el.atTr,"attr");assert.equal(el.customAttr,"customAttr");assert.equal(el.shouldInvalidate,10);assert.equal(el.fromAttribute,1);assert.equal(el.toAttribute,1);assert.equal(el.getAttribute("toattribute"),"1-attr");assert.equal(el.all,10);assert.equal(el.getAttribute("all-attr"),"10-attr");el.setAttribute("noattr","noAttr2");el.setAttribute("attr","attr2");el.setAttribute("custom","customAttr2");el.setAttribute("fromattribute","2attr");el.toAttribute=2;el.all=5;_context7.next=27;return el.updateComplete;case 27:assert.equal(el.updated,2);assert.equal(el.noAttr,"noAttr");assert.equal(el.atTr,"attr2");assert.equal(el.customAttr,"customAttr2");assert.equal(el.fromAttribute,2);assert.equal(el.toAttribute,2);assert.equal(el.getAttribute("toattribute"),"2-attr");assert.equal(el.all,5);el.all=15;_context7.next=38;return el.updateComplete;case 38:assert.equal(el.updated,3);assert.equal(el.all,15);assert.equal(el.getAttribute("all-attr"),"15-attr");el.setAttribute("all-attr","16-attr");_context7.next=44;return el.updateComplete;case 44:assert.equal(el.updated,4);assert.equal(el.getAttribute("all-attr"),"16-attr");assert.equal(el.all,16);el.shouldInvalidate=5;_context7.next=50;return el.updateComplete;case 50:assert.equal(el.shouldInvalidate,5);assert.equal(el.updated,4);el.shouldInvalidate=15;_context7.next=55;return el.updateComplete;case 55:assert.equal(el.shouldInvalidate,15);assert.equal(el.updated,5);el.setAttribute("all-attr","5-attr");_context7.next=60;return el.updateComplete;case 60:assert.equal(el.all,5);assert.equal(el.updated,5);el.all=15;_context7.next=65;return el.updateComplete;case 65:assert.equal(el.all,15);assert.equal(el.updated,6);case 67:case"end":return _context7.stop();}}},_callee7,this)})));test("attributes deserialize from html",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee8(){var fromAttribute,toAttributeOnly,toAttribute,E,name,el;return regeneratorRuntime.wrap(function(_context8){while(1){switch(_context8.prev=_context8.next){case 0:fromAttribute=function(value){return parseInt(value)};toAttributeOnly=function(value){return"string"===typeof value&&0<value.indexOf("-attr")?value:"".concat(value,"-attr")};toAttribute=function(value){return"".concat(value,"-attr")};E=function(_LitElement8){babelHelpers.inherits(E,_LitElement8);function E(){var _this5;babelHelpers.classCallCheck(this,E);_this5=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this5.noAttr="noAttr";_this5.atTr="attr";_this5.customAttr="customAttr";_this5.fromAttribute=1;_this5.toAttribute=1;_this5.all=10;return _this5}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject8_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{noAttr:{attribute:!1},atTr:{attribute:!0},customAttr:{attribute:"custom",reflect:!0},fromAttribute:{type:fromAttribute},toAttribute:{reflect:!0,type:{toAttribute:toAttributeOnly}},all:{attribute:"all-attr",type:{fromAttribute:fromAttribute,toAttribute:toAttribute},reflect:!0}}}}]);return E}(_litElement.LitElement);name=(0,_testHelpers.generateElementName)();customElements.define(name,E);container.innerHTML="<".concat(name,"\n      noattr=\"1\"\n      attr=\"2\"\n      custom=\"3\"\n      fromAttribute=\"6-attr\"\n      toAttribute=\"7\"\n      all-attr=\"11-attr\"></").concat(name,">");el=container.firstChild;_context8.next=10;return el.updateComplete;case 10:assert.equal(el.noAttr,"noAttr");assert.equal(el.getAttribute("noattr"),"1");assert.equal(el.atTr,"2");assert.equal(el.customAttr,"3");assert.equal(el.getAttribute("custom"),"3");assert.equal(el.fromAttribute,6);assert.equal(el.toAttribute,"7");assert.equal(el.getAttribute("toattribute"),"7-attr");assert.equal(el.all,11);assert.equal(el.getAttribute("all-attr"),"11-attr");case 20:case"end":return _context8.stop();}}},_callee8,this)})));if(Object.getOwnPropertySymbols){test("properties defined using symbols",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee9(){var _a,zug,E,el;return regeneratorRuntime.wrap(function(_context9){while(1){switch(_context9.prev=_context9.next){case 0:zug=Symbol();E=function(_LitElement9){babelHelpers.inherits(E,_LitElement9);function E(){var _this6;babelHelpers.classCallCheck(this,E);_this6=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this6.updated=0;_this6.foo=5;_this6[_a]=6;return _this6}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject9_42bcf240bcbd11e8bdb6cf102d438942())}},{key:"update",value:function update(){this.updated++}}],[{key:"properties",get:function get(){return babelHelpers.defineProperty({foo:{}},zug,{})}}]);return E}(_litElement.LitElement);_a=zug;customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context9.next=8;return el.updateComplete;case 8:assert.equal(el.updated,1);assert.equal(el.foo,5);assert.equal(el[zug],6);el.foo=55;_context9.next=14;return el.updateComplete;case 14:assert.equal(el.updated,2);assert.equal(el.foo,55);assert.equal(el[zug],6);el[zug]=66;_context9.next=20;return el.updateComplete;case 20:assert.equal(el.updated,3);assert.equal(el.foo,55);assert.equal(el[zug],66);case 23:case"end":return _context9.stop();}}},_callee9,this)})));test("properties as symbols can set property options",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee10(){var zug,E,el;return regeneratorRuntime.wrap(function(_context10){while(1){switch(_context10.prev=_context10.next){case 0:zug=Symbol();E=function(_LitElement10){babelHelpers.inherits(E,_LitElement10);babelHelpers.createClass(E,null,[{key:"properties",get:function get(){return babelHelpers.defineProperty({},zug,{attribute:"zug",reflect:!0,type:function type(value){return+value+100}})}}]);function E(){var _this7;babelHelpers.classCallCheck(this,E);_this7=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));_this7[zug]=5;return _this7}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject10_42bcf240bcbd11e8bdb6cf102d438942())}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context10.next=7;return el.updateComplete;case 7:assert.equal(el[zug],5);assert.equal(el.getAttribute("zug"),"5");el[zug]=6;_context10.next=12;return el.updateComplete;case 12:assert.equal(el[zug],6);assert.equal(el.getAttribute("zug"),"6");el.setAttribute("zug","7");_context10.next=17;return el.updateComplete;case 17:assert.equal(el.getAttribute("zug"),"107");assert.equal(el[zug],107);case 19:case"end":return _context10.stop();}}},_callee10,this)})))}test("property options compose when subclassing",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee11(){var shouldInvalidate,fromAttribute,toAttribute,E,F,G,el;return regeneratorRuntime.wrap(function(_context11){while(1){switch(_context11.prev=_context11.next){case 0:shouldInvalidate=function(value,old){return old===void 0||value>old};fromAttribute=function(value){return parseInt(value)};toAttribute=function(value){return"".concat(value,"-attr")};E=function(_LitElement11){babelHelpers.inherits(E,_LitElement11);function E(){var _this8;babelHelpers.classCallCheck(this,E);_this8=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this8.noAttr="noAttr";_this8.atTr="attr";_this8.customAttr="customAttr";_this8.shouldInvalidate=10;_this8.updated=0;return _this8}babelHelpers.createClass(E,[{key:"update",value:function update(changed){this.updated++;babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,changed)}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject11_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{noAttr:{attribute:!1},atTr:{attribute:!0},customAttr:{},shouldInvalidate:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);F=function(_E){babelHelpers.inherits(F,_E);function F(){var _this9;babelHelpers.classCallCheck(this,F);_this9=babelHelpers.possibleConstructorReturn(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments));_this9.fromAttribute=1;_this9.toAttribute=1;_this9.all=10;return _this9}babelHelpers.createClass(F,null,[{key:"properties",get:function get(){return{customAttr:{attribute:"custom",reflect:!0},shouldInvalidate:{shouldInvalidate:shouldInvalidate},fromAttribute:{},toAttribute:{}}}}]);return F}(E);G=function(_F){babelHelpers.inherits(G,_F);function G(){babelHelpers.classCallCheck(this,G);return babelHelpers.possibleConstructorReturn(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}babelHelpers.createClass(G,null,[{key:"properties",get:function get(){return{fromAttribute:{type:fromAttribute},toAttribute:{reflect:!0,type:{toAttribute:toAttribute}},all:{attribute:"all-attr",shouldInvalidate:shouldInvalidate,type:{fromAttribute:fromAttribute,toAttribute:toAttribute},reflect:!0}}}}]);return G}(F);customElements.define((0,_testHelpers.generateElementName)(),G);el=new G;container.appendChild(el);_context11.next=12;return el.updateComplete;case 12:assert.equal(el.updated,1);assert.equal(el.noAttr,"noAttr");assert.equal(el.atTr,"attr");assert.equal(el.customAttr,"customAttr");assert.equal(el.shouldInvalidate,10);assert.equal(el.fromAttribute,1);assert.equal(el.toAttribute,1);assert.equal(el.getAttribute("toattribute"),"1-attr");assert.equal(el.all,10);assert.equal(el.getAttribute("all-attr"),"10-attr");el.setAttribute("noattr","noAttr2");el.setAttribute("attr","attr2");el.setAttribute("custom","customAttr2");el.setAttribute("fromattribute","2attr");el.toAttribute=2;el.all=5;_context11.next=30;return el.updateComplete;case 30:assert.equal(el.updated,2);assert.equal(el.noAttr,"noAttr");assert.equal(el.atTr,"attr2");assert.equal(el.customAttr,"customAttr2");assert.equal(el.fromAttribute,2);assert.equal(el.toAttribute,2);assert.equal(el.getAttribute("toattribute"),"2-attr");assert.equal(el.all,5);el.all=15;_context11.next=41;return el.updateComplete;case 41:assert.equal(el.updated,3);assert.equal(el.all,15);assert.equal(el.getAttribute("all-attr"),"15-attr");el.setAttribute("all-attr","16-attr");_context11.next=47;return el.updateComplete;case 47:assert.equal(el.updated,4);assert.equal(el.getAttribute("all-attr"),"16-attr");assert.equal(el.all,16);el.shouldInvalidate=5;_context11.next=53;return el.updateComplete;case 53:assert.equal(el.shouldInvalidate,5);assert.equal(el.updated,4);el.shouldInvalidate=15;_context11.next=58;return el.updateComplete;case 58:assert.equal(el.shouldInvalidate,15);assert.equal(el.updated,5);el.setAttribute("all-attr","5-attr");_context11.next=63;return el.updateComplete;case 63:assert.equal(el.all,5);assert.equal(el.updated,5);el.all=15;_context11.next=68;return el.updateComplete;case 68:assert.equal(el.all,15);assert.equal(el.updated,6);case 70:case"end":return _context11.stop();}}},_callee11,this)})));test("superclass properties not affected by subclass",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee12(){var E,F,el,sub;return regeneratorRuntime.wrap(function(_context12){while(1){switch(_context12.prev=_context12.next){case 0:E=function(_LitElement12){babelHelpers.inherits(E,_LitElement12);function E(){var _this10;babelHelpers.classCallCheck(this,E);_this10=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this10.foo=5;_this10.bar="bar";return _this10}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject12_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{attribute:"zug",reflect:!0},bar:{reflect:!0}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);F=function(_E2){babelHelpers.inherits(F,_E2);function F(){var _this11;babelHelpers.classCallCheck(this,F);_this11=babelHelpers.possibleConstructorReturn(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments));_this11.foo=6;_this11.bar="subbar";_this11.nug=5;return _this11}babelHelpers.createClass(F,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject13_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{attribute:!1},nug:{}}}}]);return F}(E);customElements.define((0,_testHelpers.generateElementName)(),F);el=new E;sub=new F;container.appendChild(el);_context12.next=9;return el.updateComplete;case 9:container.appendChild(sub);_context12.next=12;return sub.updateComplete;case 12:assert.equal(el.foo,5);assert.equal(el.getAttribute("zug"),"5");assert.isFalse(el.hasAttribute("foo"));assert.equal(el.bar,"bar");assert.equal(el.getAttribute("bar"),"bar");assert.isUndefined(el.nug);assert.equal(sub.foo,6);assert.isFalse(sub.hasAttribute("zug"));assert.isFalse(sub.hasAttribute("foo"));assert.equal(sub.bar,"subbar");assert.equal(sub.getAttribute("bar"),"subbar");assert.equal(sub.nug,5);case 24:case"end":return _context12.stop();}}},_callee12,this)})));test("Attributes reflect",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee13(){var suffix,E,el;return regeneratorRuntime.wrap(function(_context13){while(1){switch(_context13.prev=_context13.next){case 0:suffix="-reflected";E=function(_LitElement13){babelHelpers.inherits(E,_LitElement13);function E(){var _this12;babelHelpers.classCallCheck(this,E);_this12=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this12.foo=0;return _this12}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject14_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{reflect:!0,type:{toAttribute:function toAttribute(value){return"".concat(value).concat(suffix)}}}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context13.next=7;return el.updateComplete;case 7:assert.equal(el.getAttribute("foo"),"0".concat(suffix));el.foo=5;_context13.next=11;return el.updateComplete;case 11:assert.equal(el.getAttribute("foo"),"5".concat(suffix));case 12:case"end":return _context13.stop();}}},_callee13,this)})));test("Attributes reflect with type: Boolean",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee14(){var E,el;return regeneratorRuntime.wrap(function(_context14){while(1){switch(_context14.prev=_context14.next){case 0:E=function(_LitElement14){babelHelpers.inherits(E,_LitElement14);function E(){var _this13;babelHelpers.classCallCheck(this,E);_this13=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this13.bar=!0;return _this13}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject15_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{bar:{type:Boolean,reflect:!0}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context14.next=6;return el.updateComplete;case 6:assert.equal(el.getAttribute("bar"),"");el.bar=!1;_context14.next=10;return el.updateComplete;case 10:assert.equal(el.hasAttribute("bar"),!1);el.bar=!0;_context14.next=14;return el.updateComplete;case 14:assert.equal(el.getAttribute("bar"),"");case 15:case"end":return _context14.stop();}}},_callee14,this)})));test("updates/renders when properties change",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee15(){var E,el;return regeneratorRuntime.wrap(function(_context15){while(1){switch(_context15.prev=_context15.next){case 0:E=function(_LitElement15){babelHelpers.inherits(E,_LitElement15);function E(){var _this14;babelHelpers.classCallCheck(this,E);_this14=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this14.foo="one";return _this14}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject16_42bcf240bcbd11e8bdb6cf102d438942(),this.foo)}}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);assert.ok(el.shadowRoot);_context15.next=7;return el.updateComplete;case 7:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"one");el.foo="changed";_context15.next=11;return el.updateComplete;case 11:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"changed");case 12:case"end":return _context15.stop();}}},_callee15,this)})));test("updates/renders when properties and attributes change",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee16(){var E,el;return regeneratorRuntime.wrap(function(_context16){while(1){switch(_context16.prev=_context16.next){case 0:E=function(_LitElement16){babelHelpers.inherits(E,_LitElement16);function E(){var _this15;babelHelpers.classCallCheck(this,E);_this15=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this15.value="1";_this15.attrValue="attr";_this15.updatedValue="";_this15.updatedAttrValue="";return _this15}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject17_42bcf240bcbd11e8bdb6cf102d438942())}},{key:"update",value:function update(props){babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,props);this.updatedValue=this.value;this.updatedAttrValue=this.attrValue}}],[{key:"properties",get:function get(){return{value:{},attrValue:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);assert.ok(el.shadowRoot);_context16.next=7;return el.updateComplete;case 7:assert.equal(el.updatedValue,"1");assert.equal(el.updatedAttrValue,"attr");el.value="2";_context16.next=12;return el.updateComplete;case 12:assert.equal(el.updatedValue,"2");assert.equal(el.updatedAttrValue,"attr");el.attrValue="attr2";_context16.next=17;return el.updateComplete;case 17:assert.equal(el.updatedValue,"2");assert.equal(el.updatedAttrValue,"attr2");el.setAttribute("attrvalue","attr3");_context16.next=22;return el.updateComplete;case 22:assert.equal(el.updatedValue,"2");assert.equal(el.updatedAttrValue,"attr3");el.value="3";el.setAttribute("attrvalue","attr4");_context16.next=28;return el.updateComplete;case 28:assert.equal(el.updatedValue,"3");assert.equal(el.updatedAttrValue,"attr4");case 30:case"end":return _context16.stop();}}},_callee16,this)})));test("updates/renders changes when attributes change",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee17(){var E,el;return regeneratorRuntime.wrap(function(_context17){while(1){switch(_context17.prev=_context17.next){case 0:E=function(_LitElement17){babelHelpers.inherits(E,_LitElement17);function E(){var _this16;babelHelpers.classCallCheck(this,E);_this16=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this16.foo="one";return _this16}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject18_42bcf240bcbd11e8bdb6cf102d438942(),this.foo)}}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context17.next=6;return el.updateComplete;case 6:assert.ok(el.shadowRoot);assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"one");el.setAttribute("foo","changed");_context17.next=11;return el.updateComplete;case 11:assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"changed");case 12:case"end":return _context17.stop();}}},_callee17,this)})));test("User defined accessor can trigger update/render",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee18(){var E,el;return regeneratorRuntime.wrap(function(_context18){while(1){switch(_context18.prev=_context18.next){case 0:E=function(_LitElement18){babelHelpers.inherits(E,_LitElement18);function E(){var _this17;babelHelpers.classCallCheck(this,E);_this17=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this17.info=[];_this17.foo=0;return _this17}babelHelpers.createClass(E,[{key:"render",value:function render(){this.info.push("render");return(0,_litElement.html)(_templateObject19_42bcf240bcbd11e8bdb6cf102d438942(),this.foo,this.bar)}},{key:"bar",get:function get(){return this.__bar},set:function set(value){this.__bar=+value;this.invalidate()}}],[{key:"properties",get:function get(){return{foo:{},bar:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);el.setAttribute("bar","20");_context18.next=7;return el.updateComplete;case 7:assert.equal(el.bar,20);assert.equal(el.__bar,20);assert.equal((0,_testHelpers.stripExpressionDelimeters)(el.shadowRoot.innerHTML),"020");case 10:case"end":return _context18.stop();}}},_callee18,this)})));test("updates/renders attributes, properties, and event listeners via lit-html",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee19(){var E,el,d,e;return regeneratorRuntime.wrap(function(_context19){while(1){switch(_context19.prev=_context19.next){case 0:E=function(_LitElement19){babelHelpers.inherits(E,_LitElement19);function E(){babelHelpers.classCallCheck(this,E);return babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}babelHelpers.createClass(E,[{key:"render",value:function render(){var _this18=this,event=function(e){_this18._event=e};return(0,_litElement.html)(_templateObject20_42bcf240bcbd11e8bdb6cf102d438942(),"attr","prop",event)}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context19.next=6;return el.updateComplete;case 6:d=el.shadowRoot.querySelector("div");assert.equal(d.getAttribute("attr"),"attr");assert.equal(d.prop,"prop");e=new Event("zug");d.dispatchEvent(e);assert.equal(el._event,e);case 12:case"end":return _context19.stop();}}},_callee19,this)})));test("finishFirstUpdate called when element first updates",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee20(){var E,el;return regeneratorRuntime.wrap(function(_context20){while(1){switch(_context20.prev=_context20.next){case 0:E=function(_LitElement20){babelHelpers.inherits(E,_LitElement20);function E(){var _this19;babelHelpers.classCallCheck(this,E);_this19=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this19.wasUpdated=0;_this19.wasFirstUpdated=0;return _this19}babelHelpers.createClass(E,[{key:"update",value:function update(){this.wasUpdated++}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject21_42bcf240bcbd11e8bdb6cf102d438942())}},{key:"finishFirstUpdate",value:function finishFirstUpdate(){this.wasFirstUpdated++}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context20.next=6;return el.updateComplete;case 6:assert.equal(el.wasUpdated,1);assert.equal(el.wasFirstUpdated,1);_context20.next=10;return el.invalidate();case 10:assert.equal(el.wasUpdated,2);assert.equal(el.wasFirstUpdated,1);_context20.next=14;return el.invalidate();case 14:assert.equal(el.wasUpdated,3);assert.equal(el.wasFirstUpdated,1);case 16:case"end":return _context20.stop();}}},_callee20,this)})));test("render lifecycle order: shouldUpdate, update, render, finishUpdate, finishFirstUpdate, updateComplete",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee21(){var E,el;return regeneratorRuntime.wrap(function(_context21){while(1){switch(_context21.prev=_context21.next){case 0:E=function(_LitElement21){babelHelpers.inherits(E,_LitElement21);function E(){var _this20;babelHelpers.classCallCheck(this,E);_this20=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this20.info=[];return _this20}babelHelpers.createClass(E,[{key:"shouldUpdate",value:function shouldUpdate(){this.info.push("shouldUpdate");return!0}},{key:"render",value:function render(){this.info.push("render");return(0,_litElement.html)(_templateObject22_42bcf240bcbd11e8bdb6cf102d438942())}},{key:"update",value:function update(props){this.info.push("before-update");babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,props)}},{key:"finishUpdate",value:function finishUpdate(){this.info.push("finishUpdate")}},{key:"finishFirstUpdate",value:function finishFirstUpdate(){this.info.push("finishFirstUpdate")}}],[{key:"properties",get:function get(){return{foo:{type:Number}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context21.next=6;return el.updateComplete;case 6:el.info.push("updateComplete");assert.deepEqual(el.info,["shouldUpdate","before-update","render","finishFirstUpdate","finishUpdate","updateComplete"]);case 8:case"end":return _context21.stop();}}},_callee21,this)})));test("setting properties in update does not trigger invalidation",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee22(){var E,el;return regeneratorRuntime.wrap(function(_context22){while(1){switch(_context22.prev=_context22.next){case 0:E=function(_LitElement22){babelHelpers.inherits(E,_LitElement22);function E(){var _this21;babelHelpers.classCallCheck(this,E);_this21=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this21.promiseFulfilled=!1;_this21.foo=0;_this21.updated=0;return _this21}babelHelpers.createClass(E,[{key:"update",value:function update(props){this.updated++;this.foo++;babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,props)}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject23_42bcf240bcbd11e8bdb6cf102d438942(),this.foo)}}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context22.next=6;return el.updateComplete;case 6:assert.equal(el.foo,1);assert.equal(el.updated,1);assert.equal(el.shadowRoot.textContent,"1");el.foo=5;_context22.next=12;return el.updateComplete;case 12:assert.equal(el.foo,6);assert.equal(el.updated,2);assert.equal(el.shadowRoot.textContent,"6");case 15:case"end":return _context22.stop();}}},_callee22,this)})));test("setting properties in update reflects to attribute and is included in `changedProps` passed to `finishUpdate`",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee23(){var E,el;return regeneratorRuntime.wrap(function(_context23){while(1){switch(_context23.prev=_context23.next){case 0:E=function(_LitElement23){babelHelpers.inherits(E,_LitElement23);function E(){var _this22;babelHelpers.classCallCheck(this,E);_this22=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this22.changedProperties=void 0;return _this22}babelHelpers.createClass(E,[{key:"update",value:function update(changedProperties){this.zot=this.foo+this.bar;babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,changedProperties)}},{key:"finishUpdate",value:function finishUpdate(changedProperties){this.changedProperties=changedProperties}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject24_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{},bar:{},zot:{reflect:!0}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context23.next=6;return el.updateComplete;case 6:assert.deepEqual(el.changedProperties,new Map([["zot",void 0]]));assert.isNaN(el.zot);assert.equal(el.getAttribute("zot"),"NaN");el.bar=1;el.foo=1;_context23.next=13;return el.updateComplete;case 13:assert.equal(el.foo,1);assert.equal(el.bar,1);assert.equal(el.zot,2);assert.deepEqual(el.changedProperties,new Map([["foo",void 0],["bar",void 0],["zot",NaN]]));assert.equal(el.getAttribute("zot"),"2");el.bar=2;_context23.next=21;return el.updateComplete;case 21:assert.equal(el.bar,2);assert.equal(el.zot,3);assert.deepEqual(el.changedProperties,new Map([["bar",1],["zot",2]]));assert.equal(el.getAttribute("zot"),"3");case 25:case"end":return _context23.stop();}}},_callee23,this)})));test("can await promise in finishUpdate",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee25(){var E,el;return regeneratorRuntime.wrap(function(_context25){while(1){switch(_context25.prev=_context25.next){case 0:E=function(_LitElement24){babelHelpers.inherits(E,_LitElement24);function E(){var _this23;babelHelpers.classCallCheck(this,E);_this23=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this23.promiseFulfilled=!1;_this23.foo=0;return _this23}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject25_42bcf240bcbd11e8bdb6cf102d438942(),this.foo)}},{key:"finishUpdate",value:function(){var _finishUpdate=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee24(){var _this24=this;return regeneratorRuntime.wrap(function(_context24){while(1){switch(_context24.prev=_context24.next){case 0:_context24.next=2;return new Promise(function(resolve){setTimeout(function(){_this24.promiseFulfilled=!0;resolve()},1)});case 2:case"end":return _context24.stop();}}},_callee24,this)}));return function finishUpdate(){return _finishUpdate.apply(this,arguments)}}()}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context25.next=6;return el.updateComplete;case 6:assert.isTrue(el.promiseFulfilled);case 7:case"end":return _context25.stop();}}},_callee25,this)})));test("can await sub-element updateComplete in finishUpdate",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee28(){var E,F,el;return regeneratorRuntime.wrap(function(_context28){while(1){switch(_context28.prev=_context28.next){case 0:E=function(_LitElement25){babelHelpers.inherits(E,_LitElement25);function E(){var _this25;babelHelpers.classCallCheck(this,E);_this25=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this25.promiseFulfilled=!1;_this25.foo="hi";return _this25}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject26_42bcf240bcbd11e8bdb6cf102d438942(),this.foo)}},{key:"finishUpdate",value:function(){var _finishUpdate2=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee26(){var _this26=this;return regeneratorRuntime.wrap(function(_context26){while(1){switch(_context26.prev=_context26.next){case 0:_context26.next=2;return new Promise(function(resolve){setTimeout(function(){_this26.promiseFulfilled=!0;resolve()},0)});case 2:case"end":return _context26.stop();}}},_callee26,this)}));return function finishUpdate(){return _finishUpdate2.apply(this,arguments)}}()}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define("x-1224",E);F=function(_LitElement26){babelHelpers.inherits(F,_LitElement26);function F(){var _this27;babelHelpers.classCallCheck(this,F);_this27=babelHelpers.possibleConstructorReturn(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments));_this27.inner=null;return _this27}babelHelpers.createClass(F,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject27_42bcf240bcbd11e8bdb6cf102d438942())}},{key:"finishUpdate",value:function(){var _finishUpdate3=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee27(){return regeneratorRuntime.wrap(function(_context27){while(1){switch(_context27.prev=_context27.next){case 0:this.inner=this.shadowRoot.querySelector("x-1224");this.inner.foo="yo";_context27.next=4;return this.inner.updateComplete;case 4:case"end":return _context27.stop();}}},_callee27,this)}));return function finishUpdate(){return _finishUpdate3.apply(this,arguments)}}()}]);return F}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),F);el=new F;container.appendChild(el);_context28.next=8;return el.updateComplete;case 8:assert.equal(el.inner.shadowRoot.textContent,"yo");assert.isTrue(el.inner.promiseFulfilled);case 10:case"end":return _context28.stop();}}},_callee28,this)})));test("updateComplete not blocked by setting properties in finishUpdate",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee29(){var E,el;return regeneratorRuntime.wrap(function(_context29){while(1){switch(_context29.prev=_context29.next){case 0:E=function(_LitElement27){babelHelpers.inherits(E,_LitElement27);function E(){var _this28;babelHelpers.classCallCheck(this,E);_this28=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this28.foo=0;_this28.updated=0;return _this28}babelHelpers.createClass(E,[{key:"update",value:function update(changed){this.updated++;babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,changed)}},{key:"finishUpdate",value:function finishUpdate(){if(2>this.foo){this.foo++}}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject28_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context29.next=6;return el.updateComplete;case 6:assert.equal(el.updated,1);assert.equal(el.foo,1);_context29.next=10;return el.updateComplete;case 10:assert.equal(el.updated,2);assert.equal(el.foo,2);_context29.next=14;return el.updateComplete;case 14:assert.equal(el.updated,3);assert.equal(el.foo,2);case 16:case"end":return _context29.stop();}}},_callee29,this)})));test("updateComplete not blocked by setting properties in finishUpdate when promise is awaited",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee31(){var E,el;return regeneratorRuntime.wrap(function(_context31){while(1){switch(_context31.prev=_context31.next){case 0:E=function(_LitElement28){babelHelpers.inherits(E,_LitElement28);function E(){var _this29;babelHelpers.classCallCheck(this,E);_this29=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this29.foo=0;_this29.updated=0;return _this29}babelHelpers.createClass(E,[{key:"update",value:function update(changed){this.updated++;babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,changed)}},{key:"finishUpdate",value:function(){var _finishUpdate4=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee30(){return regeneratorRuntime.wrap(function(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return new Promise(function(resolve){return setTimeout(resolve,0)});case 2:if(2>this.foo){this.foo++}case 3:case"end":return _context30.stop();}}},_callee30,this)}));return function finishUpdate(){return _finishUpdate4.apply(this,arguments)}}()},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject29_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context31.next=6;return el.updateComplete;case 6:assert.equal(el.updated,1);assert.equal(el.foo,1);_context31.next=10;return el.updateComplete;case 10:assert.equal(el.updated,2);assert.equal(el.foo,2);_context31.next=14;return el.updateComplete;case 14:assert.equal(el.updated,3);assert.equal(el.foo,2);case 16:case"end":return _context31.stop();}}},_callee31,this)})));test("updateComplete can be overridden to resolve after properties set within finishUpdate",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee33(){var E,el;return regeneratorRuntime.wrap(function(_context33){while(1){switch(_context33.prev=_context33.next){case 0:E=function(_LitElement29){babelHelpers.inherits(E,_LitElement29);function E(){var _this30;babelHelpers.classCallCheck(this,E);_this30=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this30.foo=0;return _this30}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject30_42bcf240bcbd11e8bdb6cf102d438942(),this.foo)}},{key:"finishUpdate",value:function(){var _finishUpdate5=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee32(changedProps){return regeneratorRuntime.wrap(function(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!changedProps.has("inputChanged")){_context32.next=4;break}_context32.next=3;return this._input.updateComplete;case 3:this.inputValid=this._input.isValid();case 4:case"end":return _context32.stop();}}},_callee32,this)}));return function finishUpdate(){return _finishUpdate5.apply(this,arguments)}}()},{key:"updateComplete",get:function get(){var _this31=this;return babelHelpers.get(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"updateComplete",this).then(function(v){return v||_this31.updateComplete})}}],[{key:"properties",get:function get(){return{foo:{}}}}]);return E}(_litElement.LitElement);customElements.define((0,_testHelpers.generateElementName)(),E);el=new E;container.appendChild(el);_context33.next=6;return el.updateComplete;case 6:assert.equal(el.foo,10);assert.equal(el.shadowRoot.textContent,"10");case 8:case"end":return _context33.stop();}}},_callee33,this)})));test("properties set before upgrade are applied",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee34(){var name,el,objectValue,E;return regeneratorRuntime.wrap(function(_context34){while(1){switch(_context34.prev=_context34.next){case 0:name=(0,_testHelpers.generateElementName)();el=document.createElement(name);container.appendChild(el);el.foo="hi";el.bar=!1;objectValue={};el.zug=objectValue;E=function(_LitElement30){babelHelpers.inherits(E,_LitElement30);function E(){var _this32;babelHelpers.classCallCheck(this,E);_this32=babelHelpers.possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));_this32.foo="";_this32.bar=!0;_this32.zug=null;return _this32}babelHelpers.createClass(E,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject31_42bcf240bcbd11e8bdb6cf102d438942())}}],[{key:"properties",get:function get(){return{foo:{},bar:{},zug:{}}}}]);return E}(_litElement.LitElement);customElements.define(name,E);_context34.next=11;return el.updateComplete;case 11:assert.equal(el.foo,"hi");assert.equal(el.bar,!1);assert.equal(el.zug,objectValue);case 14:case"end":return _context34.stop();}}},_callee34,this)})))})});